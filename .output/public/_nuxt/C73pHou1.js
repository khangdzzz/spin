import{_ as I,r as W,o as E,t as x,x as _,J as A,v as T}from"./C_QeM2Io.js";function k(i=0,e=0,t=14){return parseFloat((Math.random()*(e-i)+i).toFixed(t))}function c(i=0){return i*Math.PI/180}function P(i,e,t){return e<t?e<=i&&i<t:e<=i||i<t}function F(i,e,t,s){s.save(),s.font=`1px ${e}`;const a=s.measureText(i).width;return s.restore(),t/a}function V(i={x:0,y:0},e,t,s){return(i.x-e)**2+(i.y-t)**2<=s**2}function C(i={x:0,y:0},e={},t=1){const s=e.getBoundingClientRect();return{x:(i.x-s.left)*t,y:(i.y-s.top)*t}}function z(i,e,t,s){const a=i-t,n=e-s;let r=Math.atan2(-n,-a);return r*=180/Math.PI,r<0&&(r+=360),r}function B(i=0,e=0){const t=i+e;let s;return t>0?s=t%360:s=360+t%360,s===360&&(s=0),s}function O(i=0,e=0){const t=180-e;return 180-B(i,t)}function D(i=0,e=0,t=1){let s=(i%360+e)%360;return s=N(s),s=(t===1?360-s:360+s)%360,s*=t,i+s}function p(i){return typeof i=="object"&&!Array.isArray(i)&&i!==null}function m(i){return typeof i=="number"&&!Number.isNaN(i)}function h({val:i,isValid:e,errorMessage:t,defaultValue:s,action:a=null}){if(e)return a?a():i;if(i===void 0)return s;throw new Error(t)}function N(i=0){return Number(i.toFixed(9))}function H(i){return Math.sin(i*Math.PI/2)}function $(i={},e={}){if(window.ResizeObserver){const t=new ResizeObserver(()=>{e({redraw:!0})});return t.observe(i),{stop:()=>{t.unobserve(i),t.disconnect()}}}return window.addEventListener("resize",e),{stop:()=>{window.removeEventListener("resize",e)}}}const f=-90,w=500,y=250,S=Object.freeze({left:"left",right:"right",center:"center"}),o=Object.freeze({wheel:{borderColor:"#000",borderWidth:1,debug:!1,image:null,isInteractive:!0,itemBackgroundColors:["#fff"],itemLabelAlign:S.right,itemLabelBaselineOffset:0,itemLabelColors:["#000"],itemLabelFont:"sans-serif",itemLabelFontSizeMax:w,itemLabelRadius:.85,itemLabelRadiusMax:.2,itemLabelRotation:0,itemLabelStrokeColor:"#fff",itemLabelStrokeWidth:0,items:[],lineColor:"#000",lineWidth:1,pixelRatio:0,radius:.95,rotation:0,rotationResistance:-35,rotationSpeedMax:300,offset:{x:0,y:0},onCurrentIndexChange:null,onRest:null,onSpin:null,overlayImage:null,pointerAngle:0},item:{backgroundColor:null,image:null,imageOpacity:1,imageRadius:.5,imageRotation:0,imageScale:1,label:"",labelColor:null,value:null,weight:1}}),L=Object.freeze({pointerLineColor:"#ff00ff",labelBoundingBoxColor:"#ff00ff",labelRadiusColor:"#00ff00",dragPointHue:300});function j(i={}){Y(i),i._handler_onResize=$(i._canvasContainer,({redraw:t=!0})=>{i.resize(),t&&i.draw(performance.now())});const e=()=>{i._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),i._mediaQueryList.addEventListener("change",i._handler_onDevicePixelRatioChange,{once:!0})};i._handler_onDevicePixelRatioChange=()=>{i.resize(),e()},e()}function q(i={}){const e=i.canvas;"PointerEvent"in window?(e.removeEventListener("pointerdown",i._handler_onPointerDown),e.removeEventListener("pointermove",i._handler_onPointerMoveRefreshCursor)):(e.removeEventListener("touchstart",i._handler_onTouchStart),e.removeEventListener("mousedown",i._handler_onMouseDown),e.removeEventListener("mousemove",i._handler_onMouseMoveRefreshCursor)),i._handler_onResize.stop(),i._mediaQueryList.removeEventListener("change",i._handler_onDevicePixelRatioChange)}function Y(i={}){const e=i.canvas;i._handler_onPointerMoveRefreshCursor=(t={})=>{const s={x:t.clientX,y:t.clientY};i._isCursorOverWheel=i.wheelHitTest(s),i.refreshCursor()},i._handler_onMouseMoveRefreshCursor=(t={})=>{const s={x:t.clientX,y:t.clientY};i._isCursorOverWheel=i.wheelHitTest(s),i.refreshCursor()},i._handler_onPointerDown=(t={})=>{const s={x:t.clientX,y:t.clientY};if(!i.isInteractive||!i.wheelHitTest(s))return;t.preventDefault(),i.dragStart(s),e.setPointerCapture(t.pointerId),e.addEventListener("pointermove",a),e.addEventListener("pointerup",n),e.addEventListener("pointercancel",n),e.addEventListener("pointerout",n);function a(r={}){r.preventDefault(),i.dragMove({x:r.clientX,y:r.clientY})}function n(r={}){r.preventDefault(),e.releasePointerCapture(r.pointerId),e.removeEventListener("pointermove",a),e.removeEventListener("pointerup",n),e.removeEventListener("pointercancel",n),e.removeEventListener("pointerout",n),i.dragEnd()}},i._handler_onMouseDown=(t={})=>{const s={x:t.clientX,y:t.clientY};if(!i.isInteractive||!i.wheelHitTest(s))return;i.dragStart(s),document.addEventListener("mousemove",a),document.addEventListener("mouseup",n);function a(r={}){r.preventDefault(),i.dragMove({x:r.clientX,y:r.clientY})}function n(r={}){r.preventDefault(),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",n),i.dragEnd()}},i._handler_onTouchStart=(t={})=>{const s={x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY};if(!i.isInteractive||!i.wheelHitTest(s))return;t.preventDefault(),i.dragStart(s),e.addEventListener("touchmove",a),e.addEventListener("touchend",n),e.addEventListener("touchcancel",n);function a(r={}){r.preventDefault(),i.dragMove({x:r.targetTouches[0].clientX,y:r.targetTouches[0].clientY})}function n(r={}){r.preventDefault(),e.removeEventListener("touchmove",a),e.removeEventListener("touchend",n),e.removeEventListener("touchcancel",n),i.dragEnd()}},"PointerEvent"in window?(e.addEventListener("pointerdown",i._handler_onPointerDown),e.addEventListener("pointermove",i._handler_onPointerMoveRefreshCursor)):(e.addEventListener("touchstart",i._handler_onTouchStart),e.addEventListener("mousedown",i._handler_onMouseDown),e.addEventListener("mousemove",i._handler_onMouseMoveRefreshCursor))}class X{constructor(e,t={}){if(!p(e))throw new Error("wheel must be an instance of Wheel");if(!p(t)&&t!==null)throw new Error("props must be an Object or null");this._wheel=e;for(const s of Object.keys(o.item))this["_"+s]=o.item[s];t?this.init(t):this.init(o.item)}init(e={}){this.backgroundColor=e.backgroundColor,this.image=e.image,this.imageOpacity=e.imageOpacity,this.imageRadius=e.imageRadius,this.imageRotation=e.imageRotation,this.imageScale=e.imageScale,this.label=e.label,this.labelColor=e.labelColor,this.value=e.value,this.weight=e.weight}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){typeof e=="string"?this._backgroundColor=e:this._backgroundColor=o.item.backgroundColor,this._wheel.refresh()}get image(){return this._image}set image(e){e instanceof HTMLImageElement?this._image=e:this._image=o.item.image,this._wheel.refresh()}get imageOpacity(){return this._imageOpacity}set imageOpacity(e){typeof e=="number"?this._imageOpacity=e:this._imageOpacity=o.item.imageOpacity,this._wheel.refresh()}get imageRadius(){return this._imageRadius}set imageRadius(e){typeof e=="number"?this._imageRadius=e:this._imageRadius=o.item.imageRadius,this._wheel.refresh()}get imageRotation(){return this._imageRotation}set imageRotation(e){typeof e=="number"?this._imageRotation=e:this._imageRotation=o.item.imageRotation,this._wheel.refresh()}get imageScale(){return this._imageScale}set imageScale(e){typeof e=="number"?this._imageScale=e:this._imageScale=o.item.imageScale,this._wheel.refresh()}get label(){return this._label}set label(e){typeof e=="string"?this._label=e:this._label=o.item.label,this._wheel.refresh()}get labelColor(){return this._labelColor}set labelColor(e){typeof e=="string"?this._labelColor=e:this._labelColor=o.item.labelColor,this._wheel.refresh()}get value(){return this._value}set value(e){e!==void 0?this._value=e:this._value=o.item.value}get weight(){return this._weight}set weight(e){typeof e=="number"?this._weight=e:this._weight=o.item.weight}getIndex(){const e=this._wheel.items.findIndex(t=>t===this);if(e===-1)throw new Error("Item not found in parent Wheel");return e}getCenterAngle(){const e=this._wheel.getItemAngles()[this.getIndex()];return e.start+(e.end-e.start)/2}getStartAngle(){return this._wheel.getItemAngles()[this.getIndex()].start}getEndAngle(){return this._wheel.getItemAngles()[this.getIndex()].end}getRandomAngle(){return k(this.getStartAngle(),this.getEndAngle())}}class U{constructor(e,t={}){if(!(e instanceof Element))throw new Error("container must be an instance of Element");if(!p(t)&&t!==null)throw new Error("props must be an Object or null");this._frameRequestId=null,this._rotationSpeed=0,this._rotationDirection=1,this._spinToTimeEnd=null,this._lastSpinFrameTime=null,this._isCursorOverWheel=!1,this.add(e);for(const s of Object.keys(o.wheel))this["_"+s]=o.wheel[s];t?this.init(t):this.init(o.wheel)}init(e={}){this._isInitialising=!0,this.borderColor=e.borderColor,this.borderWidth=e.borderWidth,this.debug=e.debug,this.image=e.image,this.isInteractive=e.isInteractive,this.itemBackgroundColors=e.itemBackgroundColors,this.itemLabelAlign=e.itemLabelAlign,this.itemLabelBaselineOffset=e.itemLabelBaselineOffset,this.itemLabelColors=e.itemLabelColors,this.itemLabelFont=e.itemLabelFont,this.itemLabelFontSizeMax=e.itemLabelFontSizeMax,this.itemLabelRadius=e.itemLabelRadius,this.itemLabelRadiusMax=e.itemLabelRadiusMax,this.itemLabelRotation=e.itemLabelRotation,this.itemLabelStrokeColor=e.itemLabelStrokeColor,this.itemLabelStrokeWidth=e.itemLabelStrokeWidth,this.items=e.items,this.lineColor=e.lineColor,this.lineWidth=e.lineWidth,this.pixelRatio=e.pixelRatio,this.rotationSpeedMax=e.rotationSpeedMax,this.radius=e.radius,this.rotation=e.rotation,this.rotationResistance=e.rotationResistance,this.offset=e.offset,this.onCurrentIndexChange=e.onCurrentIndexChange,this.onRest=e.onRest,this.onSpin=e.onSpin,this.overlayImage=e.overlayImage,this.pointerAngle=e.pointerAngle}add(e){this._canvasContainer=e,this.canvas=document.createElement("canvas"),this.canvas.style.display="block",this._context=this.canvas.getContext("2d"),this._canvasContainer.append(this.canvas),j(this),this._isInitialising===!1&&this.resize()}remove(){this.canvas!==null&&(this._frameRequestId!==null&&window.cancelAnimationFrame(this._frameRequestId),q(this),this._canvasContainer.removeChild(this.canvas),this._canvasContainer=null,this.canvas=null,this._context=null)}resize(){if(this.canvas===null)return;this.canvas.style.width=this._canvasContainer.clientWidth+"px",this.canvas.style.height=this._canvasContainer.clientHeight+"px";const[e,t]=[this._canvasContainer.clientWidth*this.getActualPixelRatio(),this._canvasContainer.clientHeight*this.getActualPixelRatio()];this.canvas.width=e,this.canvas.height=t;const s=Math.min(e,t),a={w:s-s*this._offset.x,h:s-s*this._offset.y},n=Math.min(e/a.w,t/a.h);this._size=Math.max(a.w*n,a.h*n),this._center={x:e/2+e*this._offset.x,y:t/2+t*this._offset.y},this._actualRadius=this._size/2*this.radius,this._itemLabelFontSize=this.itemLabelFontSizeMax*(this._size/w),this._labelMaxWidth=this._actualRadius*(this.itemLabelRadius-this.itemLabelRadiusMax),this.itemLabelAlign==="center"&&(this._labelMaxWidth*=2);for(const r of this._items)this._itemLabelFontSize=Math.min(this._itemLabelFontSize,F(r.label,this.itemLabelFont,this._labelMaxWidth,this._context));this.refresh()}draw(e=0){if(this._frameRequestId=null,this._context===null||this.canvas===null)return;const t=this._context;t.clearRect(0,0,this.canvas.width,this.canvas.height),this.animateRotation(e);const s=this.getItemAngles(this._rotation),a=this.getScaledNumber(this._borderWidth);t.textBaseline="middle",t.textAlign=this.itemLabelAlign,t.font=this._itemLabelFontSize+"px "+this.itemLabelFont;for(const[n,r]of s.entries()){const d=this._items[n],l=new Path2D;l.moveTo(this._center.x,this._center.y),l.arc(this._center.x,this._center.y,this._actualRadius-a/2,c(r.start+f),c(r.end+f)),d.path=l}this.drawItemBackgrounds(t,s),this.drawItemImages(t,s),this.drawItemLines(t,s),this.drawItemLabels(t,s),this.drawBorder(t),this.drawImage(t,this._image,!1),this.drawImage(t,this._overlayImage,!0),this.drawDebugPointerLine(t),this._isInitialising=!1}drawItemBackgrounds(e,t=[]){for(const[s,a]of t.entries()){const n=this._items[s];e.fillStyle=n.backgroundColor??this._itemBackgroundColors[s%this._itemBackgroundColors.length],e.fill(n.path)}}drawItemImages(e,t=[]){for(const[s,a]of t.entries()){const n=this._items[s];if(n.image===null)continue;e.save(),e.clip(n.path);const r=a.start+(a.end-a.start)/2;e.translate(this._center.x+Math.cos(c(r+f))*(this._actualRadius*n.imageRadius),this._center.y+Math.sin(c(r+f))*(this._actualRadius*n.imageRadius)),e.rotate(c(r+n.imageRotation)),e.globalAlpha=n.imageOpacity;const d=this._size/500*n.image.width*n.imageScale,l=this._size/500*n.image.height*n.imageScale,u=-d/2,g=-l/2;e.drawImage(n.image,u,g,d,l),e.restore()}}drawImage(e,t,s=!1){if(t===null)return;e.translate(this._center.x,this._center.y),s||e.rotate(c(this._rotation));const a=s?this._size:this._size*this.radius,n=-(a/2);e.drawImage(t,n,n,a,a),e.resetTransform()}drawDebugPointerLine(e){this.debug&&(e.translate(this._center.x,this._center.y),e.rotate(c(this._pointerAngle+f)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius*2,0),e.strokeStyle=L.pointerLineColor,e.lineWidth=this.getScaledNumber(2),e.stroke(),e.resetTransform())}drawBorder(e){if(this._borderWidth<=0)return;const t=this.getScaledNumber(this._borderWidth),s=this._borderColor||"transparent";if(e.beginPath(),e.strokeStyle=s,e.lineWidth=t,e.arc(this._center.x,this._center.y,this._actualRadius-t/2,0,2*Math.PI),e.stroke(),this.debug){const a=this.getScaledNumber(1);e.beginPath(),e.strokeStyle=e.strokeStyle=L.labelRadiusColor,e.lineWidth=a,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadius,0,2*Math.PI),e.stroke(),e.beginPath(),e.strokeStyle=e.strokeStyle=L.labelRadiusColor,e.lineWidth=a,e.arc(this._center.x,this._center.y,this._actualRadius*this.itemLabelRadiusMax,0,2*Math.PI),e.stroke()}}drawItemLines(e,t=[]){if(this._lineWidth<=0)return;const s=this.getScaledNumber(this._lineWidth),a=this.getScaledNumber(this._borderWidth);e.translate(this._center.x,this._center.y);for(const n of t)e.rotate(c(n.start+f)),e.beginPath(),e.moveTo(0,0),e.lineTo(this._actualRadius-a,0),e.strokeStyle=this.lineColor,e.lineWidth=s,e.stroke(),e.rotate(-c(n.start+f));e.resetTransform()}drawItemLabels(e,t=[]){const s=this._itemLabelFontSize*-this.itemLabelBaselineOffset,a=this.getScaledNumber(1),n=this.getScaledNumber(this._itemLabelStrokeWidth*2);for(const[r,d]of t.entries()){const l=this._items[r],u=l.labelColor||this._itemLabelColors[r%this._itemLabelColors.length]||"transparent";if(l.label.trim()===""||u==="transparent")continue;e.save(),e.clip(l.path);const g=d.start+(d.end-d.start)/2;if(e.translate(this._center.x+Math.cos(c(g+f))*(this._actualRadius*this.itemLabelRadius),this._center.y+Math.sin(c(g+f))*(this._actualRadius*this.itemLabelRadius)),e.rotate(c(g+f)),e.rotate(c(this.itemLabelRotation)),this.debug){e.save();let b=0;this.itemLabelAlign==="left"?b=this._labelMaxWidth:this.itemLabelAlign==="center"&&(b=this._labelMaxWidth/2),e.beginPath(),e.moveTo(b,0),e.lineTo(-this._labelMaxWidth+b,0),e.strokeStyle=L.labelBoundingBoxColor,e.lineWidth=a,e.stroke(),e.strokeRect(b,-this._itemLabelFontSize/2,-this._labelMaxWidth,this._itemLabelFontSize),e.restore()}if(this._itemLabelStrokeWidth>0&&(e.lineWidth=n,e.strokeStyle=this._itemLabelStrokeColor,e.lineJoin="round",e.strokeText(l.label,0,s)),e.fillStyle=u,e.fillText(l.label,0,s),this.debug){const b=this.getScaledNumber(2);e.beginPath(),e.arc(0,0,b,0,2*Math.PI),e.fillStyle=L.labelRadiusColor,e.fill()}e.restore()}}drawDebugDragPoints(e){var n;if(!this.debug||!((n=this._dragEvents)!=null&&n.length))return;const t=[...this._dragEvents].reverse(),s=this.getScaledNumber(.5),a=this.getScaledNumber(4);for(const[r,d]of t.entries()){const l=r/this._dragEvents.length*100;e.beginPath(),e.arc(d.x,d.y,a,0,2*Math.PI),e.fillStyle=`hsl(${L.dragPointHue},100%,${l}%)`,e.strokeStyle="#000",e.lineWidth=s,e.fill(),e.stroke()}}animateRotation(e=0){if(this._spinToTimeEnd!==null){if(e>=this._spinToTimeEnd){this.rotation=this._spinToEndRotation,this._spinToTimeEnd=null,this.raiseEvent_onRest();return}const t=this._spinToTimeEnd-this._spinToTimeStart;let s=(e-this._spinToTimeStart)/t;s=s<0?0:s;const a=this._spinToEndRotation-this._spinToStartRotation;this.rotation=this._spinToStartRotation+a*this._spinToEasingFunction(s),this.refresh();return}if(this._lastSpinFrameTime!==null){const t=e-this._lastSpinFrameTime;t>0&&(this.rotation+=t/1e3*this._rotationSpeed%360,this._rotationSpeed=this.getRotationSpeedPlusDrag(t),this._rotationSpeed===0?(this.raiseEvent_onRest(),this._lastSpinFrameTime=null):this._lastSpinFrameTime=e),this.refresh();return}}getRotationSpeedPlusDrag(e=0){const t=this._rotationSpeed+this.rotationResistance*(e/1e3)*this._rotationDirection;return this._rotationDirection===1&&t<0||this._rotationDirection===-1&&t>=0?0:t}spin(e=0){if(!m(e))throw new Error("rotationSpeed must be a number");this._dragEvents=[],this.beginSpin(e,"spin")}spinTo(e=0,t=0,s=null){if(!m(e))throw new Error("Error: rotation must be a number");if(!m(t))throw new Error("Error: duration must be a number");this.stop(),this._dragEvents=[],this.animate(e,t,s),this.raiseEvent_onSpin({method:"spinto",targetRotation:e,duration:t})}spinToItem(e=0,t=0,s=!0,a=1,n=1,r=null){this.stop(),this._dragEvents=[];const d=s?this.items[e].getCenterAngle():this.items[e].getRandomAngle();let l=D(this.rotation,d-this._pointerAngle,n);l+=a*360*n,this.animate(l,t,r),this.raiseEvent_onSpin({method:"spintoitem",targetItemIndex:e,targetRotation:l,duration:t})}animate(e,t,s){this._spinToStartRotation=this.rotation,this._spinToEndRotation=e,this._spinToTimeStart=performance.now(),this._spinToTimeEnd=this._spinToTimeStart+t,this._spinToEasingFunction=s||H,this.refresh()}stop(){this._spinToTimeEnd=null,this._rotationSpeed=0,this._lastSpinFrameTime=null}getScaledNumber(e){return e/w*this._size}getActualPixelRatio(){return this._pixelRatio!==0?this._pixelRatio:window.devicePixelRatio}wheelHitTest(e={x:0,y:0}){if(this.canvas===null)return!1;const t=C(e,this.canvas,this.getActualPixelRatio());return V(t,this._center.x,this._center.y,this._actualRadius)}refreshCursor(){if(this.canvas!==null){if(this.isInteractive){if(this.isDragging){this.canvas.style.cursor="grabbing";return}if(this._isCursorOverWheel){this.canvas.style.cursor="grab";return}}this.canvas.style.cursor=""}}getAngleFromCenter(e={x:0,y:0}){return(z(this._center.x,this._center.y,e.x,e.y)+90)%360}getCurrentIndex(){return this._currentIndex}refreshCurrentIndex(e=[]){this._items.length===0&&(this._currentIndex=-1);for(const[t,s]of e.entries())if(P(this._pointerAngle,s.start%360,s.end%360)){if(this._currentIndex===t)break;this._currentIndex=t,this._isInitialising||this.raiseEvent_onCurrentIndexChange();break}}getItemAngles(e=0){let t=0;for(const d of this.items)t+=d.weight;const s=360/t;let a,n=e;const r=[];for(const d of this._items)a=d.weight*s,r.push({start:n,end:n+a}),n+=a;return this._items.length>1&&(r[r.length-1].end=r[0].start+360),r}refresh(){this._frameRequestId===null&&(this._frameRequestId=window.requestAnimationFrame(e=>this.draw(e)))}limitSpeed(e=0,t=0){const s=Math.min(e,t);return Math.max(s,-t)}beginSpin(e=0,t=""){this.stop(),this._rotationSpeed=this.limitSpeed(e,this._rotationSpeedMax),this._lastSpinFrameTime=performance.now(),this._rotationDirection=this._rotationSpeed>=0?1:-1,this._rotationSpeed!==0&&this.raiseEvent_onSpin({method:t,rotationSpeed:this._rotationSpeed,rotationResistance:this._rotationResistance}),this.refresh()}refreshAriaLabel(){if(this.canvas===null)return;this.canvas.setAttribute("role","img");const e=this.items.length>=2?` The wheel has ${this.items.length} slices.`:"";this.canvas.setAttribute("aria-label","An image of a spinning prize wheel."+e)}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=h({val:e,isValid:typeof e=="string",errorMessage:"Wheel.borderColor must be a string",defaultValue:o.wheel.borderColor}),this.refresh()}get borderWidth(){return this._borderWidth}set borderWidth(e){this._borderWidth=h({val:e,isValid:m(e),errorMessage:"Wheel.borderWidth must be a number",defaultValue:o.wheel.borderWidth}),this.refresh()}get debug(){return this._debug}set debug(e){this._debug=h({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.debug must be a boolean",defaultValue:o.wheel.debug}),this.refresh()}get image(){return this._image}set image(e){this._image=h({val:e,isValid:e instanceof HTMLImageElement||e===null,errorMessage:"Wheel.image must be a HTMLImageElement or null",defaultValue:o.wheel.image}),this.refresh()}get isInteractive(){return this._isInteractive}set isInteractive(e){this._isInteractive=h({val:e,isValid:typeof e=="boolean",errorMessage:"Wheel.isInteractive must be a boolean",defaultValue:o.wheel.isInteractive}),this.refreshCursor()}get itemBackgroundColors(){return this._itemBackgroundColors}set itemBackgroundColors(e){this._itemBackgroundColors=h({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemBackgroundColors must be an array",defaultValue:o.wheel.itemBackgroundColors}),this.refresh()}get itemLabelAlign(){return this._itemLabelAlign}set itemLabelAlign(e){this._itemLabelAlign=h({val:e,isValid:typeof e=="string"&&(e===S.left||e===S.right||e===S.center),errorMessage:"Wheel.itemLabelAlign must be one of Constants.AlignText",defaultValue:o.wheel.itemLabelAlign}),this.resize()}get itemLabelBaselineOffset(){return this._itemLabelBaselineOffset}set itemLabelBaselineOffset(e){this._itemLabelBaselineOffset=h({val:e,isValid:m(e),errorMessage:"Wheel.itemLabelBaselineOffset must be a number",defaultValue:o.wheel.itemLabelBaselineOffset}),this.resize()}get itemLabelColors(){return this._itemLabelColors}set itemLabelColors(e){this._itemLabelColors=h({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.itemLabelColors must be an array",defaultValue:o.wheel.itemLabelColors}),this.refresh()}get itemLabelFont(){return this._itemLabelFont}set itemLabelFont(e){this._itemLabelFont=h({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelFont must be a string",defaultValue:o.wheel.itemLabelFont}),this.resize()}get itemLabelFontSizeMax(){return this._itemLabelFontSizeMax}set itemLabelFontSizeMax(e){this._itemLabelFontSizeMax=h({val:e,isValid:m(e),errorMessage:"Wheel.itemLabelFontSizeMax must be a number",defaultValue:o.wheel.itemLabelFontSizeMax}),this.resize()}get itemLabelRadius(){return this._itemLabelRadius}set itemLabelRadius(e){this._itemLabelRadius=h({val:e,isValid:m(e),errorMessage:"Wheel.itemLabelRadius must be a number",defaultValue:o.wheel.itemLabelRadius}),this.resize()}get itemLabelRadiusMax(){return this._itemLabelRadiusMax}set itemLabelRadiusMax(e){this._itemLabelRadiusMax=h({val:e,isValid:m(e),errorMessage:"Wheel.itemLabelRadiusMax must be a number",defaultValue:o.wheel.itemLabelRadiusMax}),this.resize()}get itemLabelRotation(){return this._itemLabelRotation}set itemLabelRotation(e){this._itemLabelRotation=h({val:e,isValid:m(e),errorMessage:"Wheel.itemLabelRotation must be a number",defaultValue:o.wheel.itemLabelRotation}),this.refresh()}get itemLabelStrokeColor(){return this._itemLabelStrokeColor}set itemLabelStrokeColor(e){this._itemLabelStrokeColor=h({val:e,isValid:typeof e=="string",errorMessage:"Wheel.itemLabelStrokeColor must be a string",defaultValue:o.wheel.itemLabelStrokeColor}),this.refresh()}get itemLabelStrokeWidth(){return this._itemLabelStrokeWidth}set itemLabelStrokeWidth(e){this._itemLabelStrokeWidth=h({val:e,isValid:m(e),errorMessage:"Wheel.itemLabelStrokeWidth must be a number",defaultValue:o.wheel.itemLabelStrokeWidth}),this.refresh()}get items(){return this._items}set items(e){this._items=h({val:e,isValid:Array.isArray(e),errorMessage:"Wheel.items must be an array of Items",defaultValue:o.wheel.items,action:()=>{const t=[];for(const s of e)t.push(new X(this,s));return t}}),this.refreshAriaLabel(),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.resize()}get lineColor(){return this._lineColor}set lineColor(e){this._lineColor=h({val:e,isValid:typeof e=="string",errorMessage:"Wheel.lineColor must be a string",defaultValue:o.wheel.lineColor}),this.refresh()}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=h({val:e,isValid:m(e),errorMessage:"Wheel.lineWidth must be a number",defaultValue:o.wheel.lineWidth}),this.refresh()}get offset(){return this._offset}set offset(e){this._offset=h({val:e,isValid:p(e),errorMessage:"Wheel.offset must be an object",defaultValue:o.wheel.offset}),this.resize()}get onCurrentIndexChange(){return this._onCurrentIndexChange}set onCurrentIndexChange(e){this._onCurrentIndexChange=h({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onCurrentIndexChange must be a function or null",defaultValue:o.wheel.onCurrentIndexChange})}get onRest(){return this._onRest}set onRest(e){this._onRest=h({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onRest must be a function or null",defaultValue:o.wheel.onRest})}get onSpin(){return this._onSpin}set onSpin(e){this._onSpin=h({val:e,isValid:typeof e=="function"||e===null,errorMessage:"Wheel.onSpin must be a function or null",defaultValue:o.wheel.onSpin})}get overlayImage(){return this._overlayImage}set overlayImage(e){this._overlayImage=h({val:e,isValid:e instanceof HTMLImageElement||e===null,errorMessage:"Wheel.overlayImage must be a HTMLImageElement or null",defaultValue:o.wheel.overlayImage}),this.refresh()}get pixelRatio(){return this._pixelRatio}set pixelRatio(e){this._pixelRatio=h({val:e,isValid:m(e),errorMessage:"Wheel.pixelRatio must be a number",defaultValue:o.wheel.pixelRatio}),this._dragEvents=[],this.resize()}get pointerAngle(){return this._pointerAngle}set pointerAngle(e){this._pointerAngle=h({val:e,isValid:m(e)&&e>=0,errorMessage:"Wheel.pointerAngle must be a number between 0 and 360",defaultValue:o.wheel.pointerAngle,action:()=>e%360}),this.debug&&this.refresh()}get radius(){return this._radius}set radius(e){this._radius=h({val:e,isValid:m(e),errorMessage:"Wheel.radius must be a number",defaultValue:o.wheel.radius}),this.resize()}get rotation(){return this._rotation}set rotation(e){this._rotation=h({val:e,isValid:m(e),errorMessage:"Wheel.rotation must be a number",defaultValue:o.wheel.rotation}),this.refreshCurrentIndex(this.getItemAngles(this._rotation)),this.refresh()}get rotationResistance(){return this._rotationResistance}set rotationResistance(e){this._rotationResistance=h({val:e,isValid:m(e),errorMessage:"Wheel.rotationResistance must be a number",defaultValue:o.wheel.rotationResistance})}get rotationSpeed(){return this._rotationSpeed}get rotationSpeedMax(){return this._rotationSpeedMax}set rotationSpeedMax(e){this._rotationSpeedMax=h({val:e,isValid:m(e)&&e>=0,errorMessage:"Wheel.rotationSpeedMax must be a number >= 0",defaultValue:o.wheel.rotationSpeedMax})}dragStart(e={x:0,y:0}){if(this.canvas===null)return;const t=C(e,this.canvas,this.getActualPixelRatio());this.isDragging=!0,this.stop(),this._dragEvents=[{distance:0,x:t.x,y:t.y,now:performance.now()}],this.refreshCursor()}dragMove(e={x:0,y:0}){if(this.canvas===null)return;const t=C(e,this.canvas,this.getActualPixelRatio()),s=this.getAngleFromCenter(t),a=this._dragEvents[0],n=this.getAngleFromCenter(a),r=O(n,s);this._dragEvents.unshift({distance:r,x:t.x,y:t.y,now:performance.now()}),this.debug&&this._dragEvents.length>=40&&this._dragEvents.pop(),this.rotation+=r}dragEnd(){this.isDragging=!1;let e=0;const t=performance.now();for(const[s,a]of this._dragEvents.entries()){if(!this.isDragEventTooOld(t,a)){e+=a.distance;continue}this._dragEvents.length=s,this.debug&&this.refresh();break}this.refreshCursor(),e!==0&&this.beginSpin(e*(1e3/y),"interact")}isDragEventTooOld(e=0,t={}){return e-t.now>y}raiseEvent_onCurrentIndexChange(e={}){var t;(t=this.onCurrentIndexChange)==null||t.call(this,{type:"currentIndexChange",currentIndex:this._currentIndex,...e})}raiseEvent_onRest(e={}){var t;(t=this.onRest)==null||t.call(this,{type:"rest",currentIndex:this._currentIndex,rotation:this._rotation,...e})}raiseEvent_onSpin(e={}){var t;(t=this.onSpin)==null||t.call(this,{type:"spin",...e})}}async function G(i=[]){if(!("fonts"in document))return;const e=[];for(const t of i)typeof t=="string"&&e.push(document.fonts.load("1em "+t));await Promise.all(e)}async function J(i=[]){const e=[];for(const t of i)t instanceof HTMLImageElement&&e.push(t.decode());try{await Promise.all(e)}catch{throw new Error("An image could not be loaded")}}const R=Object.freeze({left:"left",right:"right",center:"center"}),v=[{name:"Workout",radius:.84,itemLabelRadius:.93,itemLabelRadiusMax:.35,itemLabelRotation:180,itemLabelAlign:R.left,itemLabelColors:["#fff"],itemLabelBaselineOffset:-.07,itemLabelFont:"Amatic SC",itemLabelFontSizeMax:55,itemBackgroundColors:["#ffc93c","#66bfbf","#a2d5f2","#515070","#43658b","#ed6663","#d54062"],rotationSpeedMax:500,rotationResistance:-100,lineWidth:1,lineColor:"#fff",image:"./img/example-0-image.svg",overlayImage:"./img/example-0-overlay.svg",items:[{label:"TWISTS"},{label:"PRESS UPS"},{label:"JOGGING"},{label:"SQUATS"},{label:"PLANKS"},{label:"LUNGES"},{label:"BURPIES"},{label:"CRUNCHES"},{label:"MOUNT. CLIMB"},{label:"STAR JUMPS"},{label:"KANGAROOS"},{label:"ROPE CLIMB"},{label:"KICK BOXING"},{label:"WALL SIT"}]},{name:"Takeaway",radius:.89,pointerAngle:90,itemLabelRadius:.92,itemLabelRadiusMax:.37,itemLabelRotation:0,itemLabelAlign:R.right,itemLabelColors:["#000"],itemLabelBaselineOffset:-.06,itemLabelFont:"Rubik",itemBackgroundColors:["#fbf8c4","#e4f1aa","#c0d26e","#ff7d7d"],rotationSpeedMax:700,rotationResistance:-110,lineWidth:0,overlayImage:"./img/example-1-overlay.svg",borderWidth:0,items:[{label:"Japanese"},{label:"Fish N Chips"},{label:"Sandwich"},{label:"Sub Sandwich",weight:1.3},{label:"Tacos / Mexican"},{label:"Noodle Box"},{label:"BBQ Chicken"},{label:"Fried Chicken",weight:1.3},{label:"Indian"},{label:"Thai"},{label:"Juice Smoothie"},{label:"Burgers",weight:1.3},{label:"Souvlaki / Kebab"},{label:"Italian"},{label:"Sushi"},{label:"Subways",weight:1.3},{label:"Pie / Bakery"},{label:"Chinese"},{label:"Korean"},{label:"Pizza",weight:1.3}]},{name:"Movies",radius:.88,itemLabelRadius:.92,itemLabelRadiusMax:.4,itemLabelRotation:0,itemLabelAlign:R.right,itemLabelBaselineOffset:-.13,itemLabelFont:"Pragati Narrow",itemBackgroundColors:["#c7160c","#fff"],itemLabelColors:["#fff","#000"],rotationSpeedMax:700,rotationResistance:-70,lineWidth:0,overlayImage:"./img/example-2-overlay.svg",items:[{label:"Action"},{label:"Horror"},{label:"Science Fict."},{label:"Comedy"},{label:"Romance"},{label:"Thriller"},{label:"Western"},{label:"Indie"},{label:"Crime"},{label:"Documentary"},{label:"Drama"},{label:"Musical"},{label:"Mystery"},{label:"War"},{label:"Sports"},{label:"Fantasy"}]},{name:"Money",radius:.88,itemLabelRadius:.93,itemLabelRotation:180,itemLabelAlign:R.left,itemLabelColors:["#000"],itemLabelBaselineOffset:-.06,itemLabelFont:"Arial",itemLabelFontSizeMax:22,lineWidth:1,lineColor:"#000",overlayImage:"./img/example-3-overlay.svg",items:[{label:"$ 50"},{label:"$ 200"},{label:"$ 1000",weight:.6,backgroundColor:"#f23925",labelColor:"#fff"},{label:"$ 100"},{label:"$ 200"},{label:"$ 500",weight:.8,backgroundColor:"#b1ddff"},{label:"$ 100"},{label:"$ 50"},{label:"$ 5000",weight:.4,backgroundColor:"#000",labelColor:"#fff"},{label:"$ 50"},{label:"$ 200"},{label:"$ 500",weight:.8,backgroundColor:"#b1ddff"},{label:"$ 100"},{label:"$ 200"},{label:"$ 1000",weight:.6,backgroundColor:"#f23925",labelColor:"#fff"},{label:"$ 100"},{label:"$ 50"},{label:"$ 500",weight:.8,backgroundColor:"#b1ddff"}]},{name:"King of Nerds",itemLabelRadius:.92,itemLabelRadiusMax:.3,itemLabelColors:["hsl(0, 0%, 20%)"],itemLabelFont:"Gloria Hallelujah",itemLabelBaselineOffset:-.2,rotationSpeedMax:400,rotationResistance:-100,image:"./img/example-4-image.svg",lineWidth:0,items:[{label:"SHELDON",weight:2.9},{label:"PENNY"},{label:"LEONARD"},{label:"HOWARD"},{label:"BERNADETTE"},{label:"RAJ"},{label:"AMY"}]},{name:"Rock Paper Scissors",itemBackgroundColors:["hsl(310, 100%, 95%)"],lineColor:"hsl(350, 20%, 40%)",lineWidth:2,borderColor:"hsl(350, 20%, 40%)",borderWidth:4,items:[{image:"./img/example-5-item-0.svg",imageRadius:.6,imageScale:1.2},{image:"./img/example-5-item-1.svg",imageRadius:.6,imageScale:1.2},{image:"./img/example-5-item-2.svg",imageRadius:.6,imageScale:1.2},{image:"./img/example-5-item-3.svg",imageRadius:.6,imageScale:1.2},{image:"./img/example-5-item-4.svg",imageRadius:.6,imageScale:1.2}]},{name:"Basic",items:[{label:"one"},{label:"two"},{label:"three"}]}],K={class:"wheel-wrapper",ref:"wheelContainer"},Q={__name:"index",setup(i){let e=0;const t=W(null),s=async()=>{await G(v.map(g=>g.itemLabelFont)),t.value=new U(document.querySelector(".wheel-wrapper"));const l=document.querySelector("select"),u=[];for(const g of v){const b=document.createElement("option");b.textContent=g.name,l.append(b),u.push(d(g,"image")),u.push(d(g,"overlayImage"));for(const M of g.items)u.push(d(M,"image"))}await J(u),document.querySelector(".wheel-wrapper").style.visibility="visible",l.onchange=()=>{t.value.init({...v[l.selectedIndex],rotation:t.value.rotation})},l.options[0].selected="selected",l.onchange()},a=()=>{const{duration:l,winningItemRotaion:u}=n();t.value.spinTo(u,l)},n=()=>{const u=r(360,630)+e;return e+=360*1.75,{duration:3e3,winningItemRotaion:u}},r=(l,u)=>(l=Math.ceil(l),u=Math.floor(u),Math.floor(Math.random()*(u-l))+l),d=(l,u)=>{if(!l[u])return null;const g=new Image;return g.src=l[u],l[u]=g,g};return E(async()=>{await s()}),(l,u)=>(T(),x(A,null,[_("div",{class:"gui-wrapper"},[u[1]||(u[1]=_("p",null,"Click-drag (or touch-flick) to spin the wheel.",-1)),_("div",null,[_("button",{onClick:a},"Spin"),u[0]||(u[0]=_("p",null,[_("label",null,"Theme:"),_("select")],-1))])]),_("div",K,null,512)],64))}},ee=I(Q,[["__scopeId","data-v-c7916d85"]]);export{ee as default};
